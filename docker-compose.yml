version: '3.5'

services:

  search-service:
    image: response-juggler:0.1.0
    environment:
      PORT: 80
      NUM_CONNECTIONS: 100
      RESPONSE_MAIN_TEMPLATE: "searchresponse.json"
      RESPONSE_PARTIAL_IDENT_DOCS: "{{DOCS}}"
      RESPONSE_PARTIAL_CONTENT_DOCS: "doc_bool_flag.json"
      RESPONSE_PARTIAL_SAMPLER_TYPE_DOCS: "LIST"
      RESPONSE_PARTIAL_SAMPLER_MIN_NUM_DOCS: 5
      RESPONSE_PARTIAL_SAMPLER_MAX_NUM_DOCS: 20
      RESPONSE_FIELD_IDENT_PID: "{{PID}}"
      RESPONSE_FIELD_SAMPLER_TYPE_PID: "SINGLE"
      RESPONSE_FIELD_SAMPLER_ELEMENT_CAST_PID: "STRING"
      RESPONSE_FIELD_SAMPLER_SELECTION_PID: "p0,p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19"
      RESPONSE_FIELD_IDENT_BOOL: "{{BOOL}}"
      RESPONSE_FIELD_SAMPLER_TYPE_BOOL: "SINGLE"
      RESPONSE_FIELD_SAMPLER_ELEMENT_CAST_BOOL: "BOOL"
      RESPONSE_FIELD_SAMPLER_SELECTION_BOOL: "True,False"
    ports:
      - "80:80"